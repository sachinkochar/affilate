{"version":3,"sources":["webpack:///webpack/bootstrap 46f08a8d305cdcae050f","webpack:///./config/index.js","webpack:///external \"react\"","webpack:///external \"path\"","webpack:///external \"app-root-dir\"","webpack:///external \"react-redux\"","webpack:///external \"fs\"","webpack:///external \"prop-types\"","webpack:///external \"express\"","webpack:///external \"react-helmet\"","webpack:///external \"redux\"","webpack:///./config/values.js","webpack:///./shared/utils/logic/ifElse.js","webpack:///./shared/utils/arrays/removeNil.js","webpack:///external \"serialize-javascript\"","webpack:///./server/index.js","webpack:///external \"compression\"","webpack:///./server/middleware/reactApplication/index.js","webpack:///external \"react-dom/server\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-async-component\"","webpack:///external \"react-jobs\"","webpack:///external \"react-async-bootstrapper\"","webpack:///./shared/redux/configureStore.js","webpack:///external \"redux-thunk\"","webpack:///external \"axios\"","webpack:///./shared/reducers/index.js","webpack:///./config/utils/envVars.js","webpack:///external \"colors/safe\"","webpack:///external \"dotenv\"","webpack:///./shared/components/App.js","webpack:///external \"react-router-dom/Switch\"","webpack:///external \"react-router-dom/Route\"","webpack:///./shared/components/Content.js","webpack:///./shared/components/Main.js","webpack:///./server/middleware/reactApplication/ServerHTML.js","webpack:///./server/middleware/reactApplication/getClientBundleEntryAssets.js","webpack:///./config/components/ClientConfig.js","webpack:///./shared/utils/objects/filterWithRules.js","webpack:///./shared/components/HTML/index.js","webpack:///./server/middleware/security.js","webpack:///external \"uuid\"","webpack:///external \"hpp\"","webpack:///external \"helmet\"","webpack:///./server/middleware/clientBundle.js","webpack:///./server/middleware/serviceWorker.js","webpack:///./server/middleware/offlinePage.js","webpack:///./server/middleware/errorHandlers.js"],"names":["configGet","configCache","resolveConfigForBrowserOrServer","require","default","window","__CLIENT_CONFIG__","console","warn","path","parts","split","length","Error","result","i","undefined","errorMessage","join","EnvVars","values","clientConfigFilter","welcomeMessage","serviceWorker","enabled","polyfillIO","htmlPage","host","string","port","number","apiUrl","clientDevServerPort","disableSSR","browserCacheMaxAge","url","features","titleTemplate","defaultTitle","description","defaultCss","cspExtensions","childSrc","connectSrc","defaultSrc","fontSrc","imgSrc","mediaSrc","manifestSrc","objectSrc","scriptSrc","styleSrc","publicAssetsPath","buildOutputPath","includeSourceMapsForOptimisedClientBundle","bundleSrcTypes","bundleAssetsFileName","nodeExternalsFileTypeWhitelist","fileName","includePublicAssets","offlinePageFileName","bundles","client","srcEntryFile","srcPaths","outputPath","webPath","devVendorDLL","include","name","server","additionalNodeBundles","plugins","babelConfig","buildOptions","target","mode","webpackConfig","ifElse","execIfFunc","x","condition","then","or","removeNil","as","filter","a","app","disable","use","get","static","listener","listen","log","reactApplicationMiddleware","request","response","locals","nonce","html","status","send","asyncComponentsContext","reactRouterContext","jobContext","store","appString","rewind","getState","setHeader","end","missed","configureStore","initialState","enhancers","withExtraArgument","axios","process","devToolsExtension","f","module","hot","accept","nextRootReducer","replaceReducer","rootReducer","test","bool","registerEnvFile","DEPLOYMENT","env","envFile","envFileResolutionOrder","resolve","envFilePath","find","filePath","existsSync","bgBlue","white","config","defaultVal","parseInt","App","render","props","Content","constructor","mapStateToProps","state","data","mapDispatchToProps","dispatch","Main","children","KeyedComponent","only","clientEntryAssets","stylesheetTag","stylesheetFilePath","scriptTag","jsFilePath","ServerHTML","asyncComponentsState","helmet","jobsState","reactAppString","routerState","storeState","inlineScript","body","__html","headerElements","title","toComponent","base","meta","link","css","style","bodyElements","Date","now","js","script","htmlAttributes","map","idx","propTypes","object","getClientBundleEntryAssets","resultCache","assetsFilePath","readAssetsJSONFile","JSON","parse","readFileSync","assetsJSONCache","index","clientConfig","serializedClientConfig","ClientConfig","isRequired","filterWithRules","filterWithRulesLoop","rules","obj","basePropPath","Object","keys","reduce","acc","key","propPath","HTML","appBodyString","node","defaultProps","cspConfig","directives","req","res","forEach","concat","directive","push","nonceMiddleware","next","v4","securityMiddleware","xssFilter","frameguard","ieNoOpen","noSniff","contentSecurityPolicy","maxAge","serviceWorkerMiddleware","sendFile","offlinePageMiddleware","err","offlinePageWithNonce","replace","errorHandlersMiddleware","notFoundMiddlware","unexpectedErrorMiddleware","stack"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://18.195.238.14:3001/client/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 46f08a8d305cdcae050f","/**\n * Unified Configuration Reader\n *\n * This helper function allows you to use the same API in accessing configuration\n * values no matter where the code is being executed (i.e. browser/node).\n *\n * e.g.\n *   import config from '../config';\n *   config('welcomeMessage'); // => \"Hello World!\"\n */\n\n/* eslint-disable no-console */\n/* eslint-disable import/global-require */\n/* eslint-disable no-underscore-dangle */\n\n// PRIVATES\n\nlet configCache;\n\n/**\n * This resolves the correct configuration source based on the execution\n * environment.  For node we use the standard config file, however, for browsers\n * we need to access the configuration object that would have been bound to\n * the \"window\" by our \"reactApplication\" middleware.\n *\n * @return {Object} The executing environment configuration object.\n */\nfunction resolveConfigForBrowserOrServer() {\n  if (configCache) {\n    return configCache;\n  }\n\n  // NOTE: By using the \"process.env.BUILD_FLAG_IS_NODE\" flag here this block of code\n  // will be removed when \"process.env.BUILD_FLAG_IS_NODE === true\".\n  // If no \"BUILD_FLAG_IS_NODE\" env var is undefined we can assume that we are running outside\n  // of a webpack run, and will therefore return the config file.\n  if (\n    typeof process.env.BUILD_FLAG_IS_NODE === 'undefined' ||\n    process.env.BUILD_FLAG_IS_NODE === 'true'\n  ) {\n    // i.e. running in our server/node process.\n    // eslint-disable-next-line global-require\n    configCache = require('./values').default;\n    return configCache;\n  }\n\n  // To get here we are likely running in the browser.\n\n  if (typeof window !== 'undefined' && typeof window.__CLIENT_CONFIG__ === 'object') {\n    configCache = window.__CLIENT_CONFIG__;\n  } else {\n    // To get here we must be running in the browser.\n    console.warn('No client configuration object was bound to the window.');\n    configCache = {};\n  }\n\n  return configCache;\n}\n\n// EXPORT\n\n/**\n * This function wraps up the boilerplate needed to access the correct\n * configuration depending on whether your code will get executed in the\n * browser/node.\n *\n * i.e.\n *  - For the browser the config values are available at window.__CLIENT_CONFIG__\n *  - For a node process they are within the \"<root>/config\".\n *\n * To request a configuration value you must provide the repective path. For\n * example, f you had the following configuration structure:\n *   {\n *     foo: {\n *       bar: [1, 2, 3]\n *     },\n *     bob: 'bob'\n *   }\n *\n * You could use this function to access \"bar\" like so:\n *   import config from '../config';\n *   const value = config('foo.bar');\n *\n * And you could access \"bob\" like so:\n *   import config from '../config';\n *   const value = config('bob');\n *\n * If any part of the path isn't available as a configuration key/value then\n * an error will be thrown indicating that a respective configuration value\n * could not be found at the given path.\n */\nexport default function configGet(path) {\n  const parts = typeof path === 'string' ? path.split('.') : path;\n\n  if (parts.length === 0) {\n    throw new Error(\n      'You must provide the path to the configuration value you would like to consume.',\n    );\n  }\n  let result = resolveConfigForBrowserOrServer();\n  for (let i = 0; i < parts.length; i += 1) {\n    if (result === undefined) {\n      const errorMessage = `Failed to resolve configuration value at \"${parts.join('.')}\".`;\n      // This \"if\" block gets stripped away by webpack for production builds.\n      if (process.env.BUILD_FLAG_IS_DEV === 'true' && process.env.BUILD_FLAG_IS_CLIENT === 'true') {\n        throw new Error(\n          `${errorMessage} We have noticed that you are trying to access this configuration value from the client bundle (i.e. code that will be executed in a browser). For configuration values to be exposed to the client bundle you must ensure that the path is added to the client configuration filter in the project configuration values file.`,\n        );\n      }\n      throw new Error(errorMessage);\n    }\n    result = result[parts[i]];\n  }\n  return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./config/index.js","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"app-root-dir\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"app-root-dir\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"react-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-helmet\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 9\n// module chunks = 0","/**\n * Project Configuration.\n *\n * NOTE: All file/folder paths should be relative to the project root. The\n * absolute paths should be resolved during runtime by our build internal/server.\n */\n\nimport * as EnvVars from './utils/envVars';\n\nconst values = {\n  // The configuration values that should be exposed to our client bundle.\n  // This value gets passed through the /shared/utils/objects/filterWithRules\n  // util to create a filter object that can be serialised and included\n  // with our client bundle.\n  clientConfigFilter: {\n    // This is here as an example showing that you can expose variables\n    // that were potentially provivded by the environment\n    welcomeMessage: true,\n    // We only need to expose the enabled flag of the service worker.\n    serviceWorker: {\n      enabled: true,\n    },\n    // We need to expose all the polyfill.io settings.\n    polyfillIO: true,\n    // We need to expose all the htmlPage settings.\n    htmlPage: true,\n  },\n\n  // The host on which the server should run.\n  host: EnvVars.string('HOST', '18.195.238.14'),\n  // The port on which the server should run.\n  port: EnvVars.number('PORT', 1337),\n  apiUrl: EnvVars.string('API_URL', 'localhost'),\n\n  // The port on which the client bundle development server should run.\n  clientDevServerPort: EnvVars.number('CLIENT_DEV_PORT', 3001),\n\n  // This is an example environment variable which is used within the react\n  // application to demonstrate the usage of environment variables across\n  // the client and server bundles.\n  welcomeMessage: EnvVars.string('WELCOME_MSG', 'Hello world!'),\n\n  // Disable server side rendering?\n  disableSSR: false,\n\n  // How long should we set the browser cache for the served assets?\n  // Don't worry, we add hashes to the files, so if they change the new files\n  // will be served to browsers.\n  // We are using the \"ms\" format to set the length.\n  // @see https://www.npmjs.com/package/ms\n  browserCacheMaxAge: '365d',\n\n  // We use the polyfill.io service which provides the polyfills that a\n  // client needs, which is far more optimal than the large output\n  // generated by babel-polyfill.\n  // Note: we have to keep this seperate from our \"htmlPage\" configuration\n  // as the polyfill needs to be loaded BEFORE any of our other javascript\n  // gets parsed.\n  polyfillIO: {\n    enabled: true,\n    url: '//cdn.polyfill.io/v2/polyfill.min.js',\n    // Reference https://qa.polyfill.io/v2/docs/features for a full list\n    // of features.\n    features: [\n      // The default list.\n      'default',\n      'es6',\n    ],\n  },\n\n  // Basic configuration for the HTML page that hosts our application.\n  // We make use of react-helmet to consume the values below.\n  // @see https://github.com/nfl/react-helmet\n  htmlPage: {\n    titleTemplate: 'React SSR, %s',\n    defaultTitle: 'React SSR,',\n\n    description: '',\n    defaultCss: './shared/index.css',\n  },\n\n  // Content Security Policy (CSP)\n  // @see server/middleware/security for more info.\n  cspExtensions: {\n    childSrc: [],\n    connectSrc: [],\n    defaultSrc: [],\n    fontSrc: ['fonts.googleapis.com/css', 'fonts.gstatic.com'],\n    imgSrc: [],\n    mediaSrc: [],\n    manifestSrc: [],\n    objectSrc: [],\n    scriptSrc: [\n      // Allow scripts from cdn.polyfill.io so that we can import the\n      // polyfill.\n      'cdn.polyfill.io',\n    ],\n    styleSrc: [\n      'cdn.rawgit.com/milligram/milligram/master/dist/milligram.min.css',\n      'fonts.googleapis.com/css',\n    ],\n  },\n\n  // Path to the public assets that will be served off the root of the\n  // HTTP server.\n  publicAssetsPath: './public',\n\n  // Where does our build output live?\n  buildOutputPath: './build',\n\n  // Do you want to included source maps for optimised builds of the client\n  // bundle?\n  includeSourceMapsForOptimisedClientBundle: false,\n\n  // These extensions are tried when resolving src files for our bundles..\n  bundleSrcTypes: ['js', 'jsx', 'json'],\n\n  // What should we name the json output file that webpack generates\n  // containing details of all output files for a bundle?\n  bundleAssetsFileName: 'assets.json',\n\n  // node_modules are not included in any bundles that target \"node\" as a\n  // runtime (e.g.. the server bundle) as including them often breaks builds\n  // due to thinks like require statements containing expressions..\n  // However. some of the modules contain files need to be processed by\n  // one of our Webpack loaders (e.g. CSS). Add any file types to the list\n  // below to allow them to be processed by Webpack.\n  nodeExternalsFileTypeWhitelist: [\n    /\\.(eot|woff|woff2|ttf|otf)$/,\n    /\\.(svg|png|jpg|jpeg|gif|ico)$/,\n    /\\.(mp4|mp3|ogg|swf|webp)$/,\n    /\\.(css|scss|sass|sss|less)$/,\n  ],\n\n  // Note: you can only have a single service worker instance.  Our service\n  // worker implementation is bound to the \"client\" and \"server\" bundles.\n  // It includes the \"client\" bundle assets, as well as the public folder assets,\n  // and it is served by the \"server\" bundle.\n  serviceWorker: {\n    // Enabled?\n    enabled: true,\n    // Service worker name\n    fileName: 'sw.js',\n    // Paths to the public assets which should be included within our\n    // service worker. Relative to our public folder path, and accepts glob\n    // syntax.\n    includePublicAssets: [\n      // NOTE: This will include ALL of our public folder assets.  We do\n      // a glob pull of them and then map them to /foo paths as all the\n      // public folder assets get served off the root of our application.\n      // You may or may not want to be including these assets.  Feel free\n      // to remove this or instead include only a very specific set of\n      // assets.\n      './**/*',\n    ],\n    // Offline page file name.\n    offlinePageFileName: 'offline.html',\n  },\n\n  bundles: {\n    client: {\n      // Src entry file.\n      srcEntryFile: './client/index.js',\n\n      // Src paths.\n      srcPaths: [\n        './client',\n        './shared',\n        // The service worker offline page generation needs access to the\n        // config folder.  Don't worry we have guards within the config files\n        // to ensure they never get included in a client bundle.\n        './config',\n      ],\n\n      // Where does the client bundle output live?\n      outputPath: './build/client',\n\n      // What is the public http path at which we must serve the bundle from?\n      webPath: '/client/',\n\n      // Configuration settings for the development vendor DLL.  This will be created\n      // by our development server and provides an improved dev experience\n      // by decreasing the number of modules that webpack needs to process\n      // for every rebuild of our client bundle.  It by default uses the\n      // dependencies configured in package.json however you can customise\n      // which of these dependencies are excluded, whilst also being able to\n      // specify the inclusion of additional modules below.\n      devVendorDLL: {\n        // Enabled?\n        enabled: true,\n\n        // Specify any dependencies that you would like to include in the\n        // Vendor DLL.\n        //\n        // NOTE: It is also possible that some modules require specific\n        // webpack loaders in order to be processed (e.g. CSS/SASS etc).\n        // For these cases you don't want to include them in the Vendor DLL.\n        include: [\n          'react-async-component',\n          'react',\n          'react-dom',\n          'react-helmet',\n          'react-router-dom',\n          'redux',\n          'react-redux',\n          'redux-thunk',\n          'axios',\n        ],\n\n        // The name of the vendor DLL.\n        name: '__dev_vendor_dll__',\n      },\n    },\n\n    server: {\n      // Src entry file.\n      srcEntryFile: './server/index.js',\n\n      // Src paths.\n      srcPaths: ['./server', './shared', './config'],\n\n      // Where does the server bundle output live?\n      outputPath: './build/server',\n    },\n  },\n\n  additionalNodeBundles: {\n    // NOTE: The webpack configuration and build scripts have been built so\n    // that you can add arbitrary additional node bundle configurations here.\n    //\n    // A common requirement for larger projects is to add additional \"node\"\n    // target bundles (e.g an APi server endpoint). Therefore flexibility has been\n    // baked into our webpack config factory to allow for this.\n    //\n    // Simply define additional configurations similar to below.  The development\n    // server will manage starting them up for you.  The only requirement is that\n    // within the entry for each bundle you create and return the \"express\"\n    // listener.\n    /*\n    apiServer: {\n      srcEntryFile: './api/index.js',\n      srcPaths: [\n        './api',\n        './shared',\n        './config',\n      ],\n      outputPath: './build/api',\n    }\n    */\n  },\n\n  // These plugin definitions provide you with advanced hooks into customising\n  // the project without having to reach into the internals of the tools.\n  //\n  // We have decided to create this plugin approach so that you can come to\n  // a centralised configuration folder to do most of your application\n  // configuration adjustments.  Additionally it helps to make merging\n  // from the origin starter kit a bit easier.\n  plugins: {\n    // This plugin allows you to provide final adjustments your babel\n    // configurations for each bundle before they get processed.\n    //\n    // This function will be called once for each for your bundles.  It will be\n    // provided the current webpack config, as well as the buildOptions which\n    // detail which bundle and mode is being targetted for the current function run.\n    babelConfig: (babelConfig, buildOptions) => {\n      // eslint-disable-next-line no-unused-vars\n      const { target, mode } = buildOptions;\n\n      // Example\n      /*\n      if (target === 'server' && mode === 'development') {\n        babelConfig.presets.push('foo');\n      }\n     */\n\n      return babelConfig;\n    },\n\n    // This plugin allows you to provide final adjustments your webpack\n    // configurations for each bundle before they get processed.\n    //\n    // I would recommend looking at the \"webpack-merge\" module to help you with\n    // merging modifications to each config.\n    //\n    // This function will be called once for each for your bundles.  It will be\n    // provided the current webpack config, as well as the buildOptions which\n    // detail which bundle and mode is being targetted for the current function run.\n    webpackConfig: (webpackConfig, buildOptions) => {\n      // eslint-disable-next-line no-unused-vars\n      const { target, mode } = buildOptions;\n\n      // Example:\n      /*\n      if (target === 'server' && mode === 'development') {\n        webpackConfig.plugins.push(new MyCoolWebpackPlugin());\n      }\n      */\n\n      // Debugging/Logging Example:\n      /*\n      if (target === 'server') {\n        console.log(JSON.stringify(webpackConfig, null, 4));\n      }\n      */\n\n      return webpackConfig;\n    },\n  },\n};\n\n// This protects us from accidentally including this configuration in our\n// client bundle. That would be a big NO NO to do. :)\nif (process.env.BUILD_FLAG_IS_CLIENT === 'true') {\n  throw new Error(\n    \"You shouldn't be importing the `<projectroot>/config/values.js` directly into code that will be included in your 'client' bundle as the configuration object will be sent to user's browsers. This could be a security risk! Instead, use the `config` helper function located at `<projectroot>/config/index.js`.\",\n  );\n}\n\nexport default values;\n\n\n\n// WEBPACK FOOTER //\n// ./config/values.js","const execIfFunc = x => (typeof x === 'function' ? x() : x);\n\n/**\n * This is a higher order function that accepts a boolean condition and will\n * return a function allowing you to provide if/else values that should be\n * resolved based on the boolean condition.\n *\n * @param  {Boolean|() => Boolean} condition:\n *   The condition to test against. This can be a function for lazy resolution.\n *\n * @return {(X|() => X, Y|() => Y) => X|Y}\n *   A function where the first paramater is the \"if\" and the second paramater\n *   is the \"else\".  Each of these allows lazy resolving by providing a function.\n *\n * @example\n *   const ifDev = ifElse(process.env.NODE_ENV === 'development');\n *   ifDev('foo', () => 'lazy resolved');  // => 'foo'\n */\nexport default function ifElse(condition) {\n  return (then, or) => (execIfFunc(condition) ? execIfFunc(then) : execIfFunc(or));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./shared/utils/logic/ifElse.js","/**\n * Filters out all null/undefined items from the given array.\n *\n * @param  {Array} as - the target array\n *\n * @return {Array} The filtered array.\n */\nexport default function removeNil(as) {\n  return as.filter(a => a != null);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./shared/utils/arrays/removeNil.js","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 13\n// module chunks = 0","/* eslint-disable no-console */\n\nimport express from 'express';\nimport compression from 'compression';\nimport { resolve as pathResolve } from 'path';\nimport appRootDir from 'app-root-dir';\nimport reactApplication from './middleware/reactApplication';\nimport security from './middleware/security';\nimport clientBundle from './middleware/clientBundle';\nimport serviceWorker from './middleware/serviceWorker';\nimport offlinePage from './middleware/offlinePage';\nimport errorHandlers from './middleware/errorHandlers';\nimport config from '../config';\n\n// Create our express based server.\nconst app = express();\n\n// Don't expose any software information to potential hackers.\napp.disable('x-powered-by');\n\n// Security middlewares.\napp.use(...security);\n\n// Gzip compress the responses.\napp.use(compression());\n\n// Register our service worker generated by our webpack config.\n// We do not want the service worker registered for development builds, and\n// additionally only want it registered if the config allows.\nif (process.env.BUILD_FLAG_IS_DEV === 'false' && config('serviceWorker.enabled')) {\n  app.get(`/${config('serviceWorker.fileName')}`, serviceWorker);\n  app.get(\n    `${config('bundles.client.webPath')}${config('serviceWorker.offlinePageFileName')}`,\n    offlinePage,\n  );\n}\n\n// Configure serving of our client bundle.\napp.use(config('bundles.client.webPath'), clientBundle);\n\n// Configure static serving of our \"public\" root http path static files.\n// Note: these will be served off the root (i.e. '/') of our application.\napp.use(express.static(pathResolve(appRootDir.get(), config('publicAssetsPath'))));\n\n// The React application middleware.\napp.get('*', reactApplication);\n\n// Error Handler middlewares.\napp.use(...errorHandlers);\n\n// Create an http listener for our express app.\nconst listener = app.listen(config('port'), () =>\n  console.log(`Server listening on port ${config('port')}`));\n\n// We export the listener as it will be handy for our development hot reloader,\n// or for exposing a general extension layer for application customisations.\nexport default listener;\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 16\n// module chunks = 0","import React from 'react';\nimport { renderToString, renderToStaticMarkup } from 'react-dom/server';\nimport { StaticRouter } from 'react-router-dom';\nimport { AsyncComponentProvider, createAsyncContext } from 'react-async-component';\nimport { JobProvider, createJobContext } from 'react-jobs';\nimport asyncBootstrapper from 'react-async-bootstrapper';\nimport { Provider } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport configureStore from '../../../shared/redux/configureStore';\n\nimport config from '../../../config';\nimport App from '../../../shared/components/App';\nimport ServerHTML from './ServerHTML';\n\n\n/**\n * React application middleware, supports server side rendering.\n */\nexport default function reactApplicationMiddleware(request, response) {\n  // Ensure a nonce has been provided to us.\n  // See the server/middleware/security.js for more info.\n  if (typeof response.locals.nonce !== 'string') {\n    throw new Error('A \"nonce\" value has not been attached to the response');\n  }\n  const nonce = response.locals.nonce;\n\n  // It's possible to disable SSR, which can be useful in development mode.\n  // In this case traditional client side only rendering will occur.\n  if (config('disableSSR')) {\n    if (process.env.BUILD_FLAG_IS_DEV === 'true') {\n      // eslint-disable-next-line no-console\n      console.log('==> Handling react route without SSR');\n    }\n    // SSR is disabled so we will return an \"empty\" html page and\n    // rely on the client to initialize and render the react application.\n    const html = renderToStaticMarkup(<ServerHTML nonce={nonce} />);\n    response.status(200).send(`<!DOCTYPE html>${html}`);\n    return;\n  }\n\n  // Create a context for our AsyncComponentProvider.\n  const asyncComponentsContext = createAsyncContext();\n\n  // Create a context for <StaticRouter>, which will allow us to\n  // query for the results of the render.\n  const reactRouterContext = {};\n\n  // Create the job context for our provider, this grants\n  // us the ability to track the resolved jobs to send back to the client.\n  const jobContext = createJobContext();\n\n  // Create the redux store.\n  const store = configureStore();\n\n  // Declare our React application.\n  const app = (\n    <AsyncComponentProvider asyncContext={asyncComponentsContext}>\n      <JobProvider jobContext={jobContext}>\n        <StaticRouter location={request.url} context={reactRouterContext}>\n          <Provider store={store}>\n            <App />\n          </Provider>\n        </StaticRouter>\n      </JobProvider>\n    </AsyncComponentProvider>\n  );\n\n  // Pass our app into the react-async-component helper so that any async\n  // components are resolved for the render.\n  asyncBootstrapper(app).then(() => {\n    const appString = renderToString(app);\n    // Generate the html response.\n    const html = renderToStaticMarkup(\n      <ServerHTML\n        reactAppString={appString}\n        nonce={nonce}\n        helmet={Helmet.rewind()}\n        storeState={store.getState()}\n        routerState={reactRouterContext}\n        jobsState={jobContext.getState()}\n        asyncComponentsState={asyncComponentsContext.getState()}\n      />,\n    );\n\n    // Check if the router context contains a redirect, if so we need to set\n    // the specific status and redirect header and end the response.\n    if (reactRouterContext.url) {\n      response.status(302).setHeader('Location', reactRouterContext.url);\n      response.end();\n      return;\n    }\n\n    response\n      .status(\n        reactRouterContext.missed\n          ? // If the renderResult contains a \"missed\" match then we set a 404 code.\n            // Our App component will handle the rendering of an Error404 view.\n            404\n          : // Otherwise everything is all good and we send a 200 OK status.\n            200,\n      )\n      .send(`<!DOCTYPE html>${html}`);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/reactApplication/index.js","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"react-async-component\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-async-component\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"react-jobs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-jobs\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"react-async-bootstrapper\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-async-bootstrapper\"\n// module id = 22\n// module chunks = 0","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\nimport reducer from '../reducers';\n\nfunction configureStore(initialState) {\n  const enhancers = compose(\n    // Middleware store enhancer.\n    applyMiddleware(\n      // Initialising redux-thunk with extra arguments will pass the below\n      // arguments to all the redux-thunk actions. Below we are passing a\n      // preconfigured axios instance which can be used to fetch data with.\n      // @see https://github.com/gaearon/redux-thunk\n      thunk.withExtraArgument({ axios }),\n    ),\n    // Redux Dev Tools store enhancer.\n    // @see https://github.com/zalmoxisus/redux-devtools-extension\n    // We only want this enhancer enabled for development and when in a browser\n    // with the extension installed.\n    process.env.NODE_ENV === 'development' &&\n    typeof window !== 'undefined' &&\n    typeof window.devToolsExtension !== 'undefined'\n      ? // Call the brower extension function to create the enhancer.\n        window.devToolsExtension()\n      : // Else we return a no-op function.\n        f => f,\n  );\n\n  const store = initialState\n    ? createStore(reducer, initialState, enhancers)\n    : createStore(reducer, enhancers);\n\n  if (process.env.NODE_ENV === 'development' && module.hot) {\n    // Enable Webpack hot module replacement for reducers. This is so that we\n    // don't lose all of our current application state during hot reloading.\n    module.hot.accept('../reducers', () => {\n      const nextRootReducer = require('../reducers').default; // eslint-disable-line global-require\n\n      store.replaceReducer(nextRootReducer);\n    });\n  }\n\n  return store;\n}\n\n// NOTE: If we create an '/api' endpoint in our application then we will neeed to\n// configure the axios instances so that they will resolve to the proper URL\n// endpoints on the server. We have to provide absolute URLs for any of our\n// server bundles. To do so we can set the default 'baseURL' for axios. Any\n// relative path requests will then be appended to the 'baseURL' in order to\n// form an absolute URL.\n// We don't need to worry about this for client side executions, relative paths\n// will work fine there.\n// Example:\n//\n// const axiosConfig = process.env.IS_NODE === true\n//   ? { baseURL: process.env.NOW_URL || notEmpty(process.env.SERVER_URL) }\n//   : {};\n//\n// Then we will then have to initialise our redux-thunk middlware like so:\n//\n// thunk.withExtraArgument({\n//   axios: axios.create(axiosConfig),\n// })\n\nexport default configureStore;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/redux/configureStore.js","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 25\n// module chunks = 0","import { combineReducers } from 'redux';\nimport test from './test';\n\nconst rootReducer = combineReducers({\n  test\n});\n\nexport default rootReducer;\n\n\n\n// WEBPACK FOOTER //\n// ./shared/reducers/index.js","/**\n * Helper for resolving environment specific configuration files.\n *\n * It resolves .env files that are supported by the `dotenv` library.\n *\n * Please read the application configuration docs for more info.\n */\n\nimport appRootDir from 'app-root-dir';\nimport colors from 'colors/safe';\nimport dotenv from 'dotenv';\nimport fs from 'fs';\nimport path from 'path';\n\nimport ifElse from '../../shared/utils/logic/ifElse';\nimport removeNil from '../../shared/utils/arrays/removeNil';\n\n// PRIVATES\n\nfunction registerEnvFile() {\n  const DEPLOYMENT = process.env.DEPLOYMENT;\n  const envFile = '.env';\n\n  // This is the order in which we will try to resolve an environment configuration\n  // file.\n  const envFileResolutionOrder = removeNil([\n    // Is there an environment config file at the app root?\n    // This always takes preference.\n    // e.g. /projects/react-universally/.env\n    path.resolve(appRootDir.get(), envFile),\n    // Is there an environment config file at the app root for our target\n    // environment name?\n    // e.g. /projects/react-universally/.env.staging\n    ifElse(DEPLOYMENT)(path.resolve(appRootDir.get(), `${envFile}.${DEPLOYMENT}`)),\n  ]);\n\n  // Find the first env file path match.\n  const envFilePath = envFileResolutionOrder.find(filePath => fs.existsSync(filePath));\n\n  // If we found an env file match the register it.\n  if (envFilePath) {\n    // eslint-disable-next-line no-console\n    console.log(colors.bgBlue.white(`==> Registering environment variables from: ${envFilePath}`));\n    dotenv.config({ path: envFilePath });\n  }\n}\n\n// Ensure that we first register any environment variables from an existing\n// env file.\nregisterEnvFile();\n\n// EXPORTED HELPERS\n\n/**\n * Gets a string environment variable by the given name.\n *\n * @param  {String} name - The name of the environment variable.\n * @param  {String} defaultVal - The default value to use.\n *\n * @return {String} The value.\n */\nexport function string(name, defaultVal) {\n  return process.env[name] || defaultVal;\n}\n\n/**\n * Gets a number environment variable by the given name.\n *\n * @param  {String} name - The name of the environment variable.\n * @param  {number} defaultVal - The default value to use.\n *\n * @return {number} The value.\n */\nexport function number(name, defaultVal) {\n  return process.env[name] ? parseInt(process.env[name], 10) : defaultVal;\n}\n\nexport function bool(name, defaultVal) {\n  return process.env[name] ? process.env[name] === 'true' || process.env[name] === '1' : defaultVal;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./config/utils/envVars.js","module.exports = require(\"colors/safe\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"colors/safe\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 30\n// module chunks = 0","import React, { Component, PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport Switch from 'react-router-dom/Switch';\nimport Route from 'react-router-dom/Route';\nimport Helmet from 'react-helmet';\nimport Content from './Content';\nimport config from '../../config';\nimport Main from './Main';\n\nexport default class App extends Component {\n \n  render() {\n    return (\n      <div id=\"row\">\n        <Helmet>\n          <html lang=\"en\" />\n          <meta charSet=\"utf-8\" />\n          <meta name=\"application-name\" content={config('htmlPage.defaultTitle')} />\n          <meta name=\"description\" content={config('htmlPage.description')} />\n          <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n          <meta name=\"msapplication-TileColor\" content=\"#2b2b2b\" />\n          <meta name=\"msapplication-TileImage\" content=\"/favicons/mstile-144x144.png\" />\n          <meta name=\"theme-color\" content=\"#2b2b2b\" />\n          <link href=\"../assets/css/bootstrap.min.css\" rel=\"stylesheet\" />\n          <link href=\"../assets/css/main.css\" rel=\"stylesheet\" />\n          <link href=\"../assets/font-awesome/css/font-awesome.min.css\" rel=\"stylesheet\" />\n          <link href=\"https://fonts.googleapis.com/css?family=Oxygen\" rel=\"stylesheet\" />\n          <link\n            href=\"https://fonts.googleapis.com/css?family=Oxygen:300,400,700\"\n            rel=\"stylesheet\"\n          />\n          <title>\n            {config('htmlPage.defaultTitle')}{' '}\n          </title>\n        </Helmet>\n        <div className=\"container content no_padding\">\n          <div className=\"col-xs-12 no_padding\">\n            <div className=\"row no_margin\">\n              <Switch>\n                <Main>\n                  <Route\n                    exact\n                    path=\"/\"\n                    render={props =>(<Content {...props}/>)}\n                  />\n                </Main>\n              </Switch>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/App.js","module.exports = require(\"react-router-dom/Switch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom/Switch\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"react-router-dom/Route\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom/Route\"\n// module id = 33\n// module chunks = 0","// Component containing all the components rendering,\n// of all child Routes.\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nclass Content extends Component {\n  constructor() {\n    super();\n  }\n  render() {\n    return (\n      <div>\n        <div className=\"row no_margin\">\n          hello\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const data = state;\n  return { data };\n}\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Content);\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/Content.js","import React, { Component } from 'react'\n\nexport default class Main extends Component {\n  render() {\n    return (\n      <div>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./shared/components/Main.js","/**\n * This module is responsible for generating the HTML page response for\n * the react application middleware.\n */\n\n/* eslint-disable react/no-danger */\n/* eslint-disable react/no-array-index-key */\n\nimport React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport serialize from 'serialize-javascript';\n\nimport config from '../../../config';\nimport ifElse from '../../../shared/utils/logic/ifElse';\nimport removeNil from '../../../shared/utils/arrays/removeNil';\nimport getClientBundleEntryAssets from './getClientBundleEntryAssets';\n\nimport ClientConfig from '../../../config/components/ClientConfig';\nimport HTML from '../../../shared/components/HTML';\n\n// PRIVATES\n\nfunction KeyedComponent({ children }) {\n  return Children.only(children);\n}\n\n// Resolve the assets (js/css) for the client bundle's entry chunk.\nconst clientEntryAssets = getClientBundleEntryAssets();\n\nfunction stylesheetTag(stylesheetFilePath) {\n  return (\n    <link href={stylesheetFilePath} media=\"screen, projection\" rel=\"stylesheet\" type=\"text/css\" />\n  );\n}\n\nfunction scriptTag(jsFilePath) {\n  return <script type=\"text/javascript\" src={jsFilePath} />;\n}\n\n// COMPONENT\n\nfunction ServerHTML(props) {\n  const {\n    asyncComponentsState,\n    helmet,\n    jobsState,\n    nonce,\n    reactAppString,\n    routerState,\n    storeState,\n  } = props;\n\n  // Creates an inline script definition that is protected by the nonce.\n  const inlineScript = body =>\n    <script nonce={nonce} type=\"text/javascript\" dangerouslySetInnerHTML={{ __html: body }} />;\n\n  const headerElements = removeNil([\n    ...ifElse(helmet)(() => helmet.title.toComponent(), []),\n    ...ifElse(helmet)(() => helmet.base.toComponent(), []),\n    ...ifElse(helmet)(() => helmet.meta.toComponent(), []),\n    ...ifElse(helmet)(() => helmet.link.toComponent(), []),\n    ifElse(clientEntryAssets && clientEntryAssets.css)(() => stylesheetTag(clientEntryAssets.css)),\n    ...ifElse(helmet)(() => helmet.style.toComponent(), []),\n  ]);\n\n  const bodyElements = removeNil([\n    // Bind our redux store state so the client knows how to hydrate his one\n    ifElse(storeState)(() => inlineScript(`window.__APP_STATE__=${serialize(storeState)};`)),\n\n    // Binds the client configuration object to the window object so\n    // that we can safely expose some configuration values to the\n    // client bundle that gets executed in the browser.\n    <ClientConfig nonce={nonce} />,\n\n    // Bind our async components state so the client knows which ones\n    // to initialise so that the checksum matches the server response.\n    // @see https://github.com/ctrlplusb/react-async-component\n    ifElse(asyncComponentsState)(() =>\n      inlineScript(\n        `window.__ASYNC_COMPONENTS_REHYDRATE_STATE__=${serialize(asyncComponentsState)};`,\n      ),\n    ),\n\n    ifElse(jobsState)(() => inlineScript(`window.__JOBS_STATE__=${serialize(jobsState)}`)),\n\n    ifElse(routerState)(() => inlineScript(`window.__ROUTER_STATE__=${serialize(routerState)}`)),\n\n    // Enable the polyfill io script?\n    // This can't be configured within a react-helmet component as we\n    // may need the polyfill's before our client JS gets parsed.\n    ifElse(config('polyfillIO.enabled'))(() =>\n      scriptTag(`${config('polyfillIO.url')}?features=${config('polyfillIO.features').join(',')}`),\n    ),\n    // When we are in development mode our development server will\n    // generate a vendor DLL in order to dramatically reduce our\n    // compilation times.  Therefore we need to inject the path to the\n    // vendor dll bundle below.\n    ifElse(\n      process.env.BUILD_FLAG_IS_DEV === 'true' && config('bundles.client.devVendorDLL.enabled'),\n    )(() =>\n      scriptTag(\n        `${config('bundles.client.webPath')}${config(\n          'bundles.client.devVendorDLL.name',\n        )}.js?t=${Date.now()}`,\n      ),\n    ),\n    ifElse(clientEntryAssets && clientEntryAssets.js)(() => scriptTag(clientEntryAssets.js)),\n    ...ifElse(helmet)(() => helmet.script.toComponent(), []),\n  ]);\n\n  return (\n    <HTML\n      htmlAttributes={ifElse(helmet)(() => helmet.htmlAttributes.toComponent(), null)}\n      headerElements={headerElements.map((x, idx) =>\n        (<KeyedComponent key={idx}>\n          {x}\n        </KeyedComponent>),\n      )}\n      bodyElements={bodyElements.map((x, idx) =>\n        (<KeyedComponent key={idx}>\n          {x}\n        </KeyedComponent>),\n      )}\n      appBodyString={reactAppString}\n    />\n  );\n}\n\nServerHTML.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  asyncComponentsState: PropTypes.object,\n  // eslint-disable-next-line react/forbid-prop-types\n  helmet: PropTypes.object,\n  // eslint-disable-next-line react/forbid-prop-types\n  jobsState: PropTypes.object,\n  nonce: PropTypes.string,\n  reactAppString: PropTypes.string,\n  // eslint-disable-next-line react/forbid-prop-types\n  routerState: PropTypes.object,\n  // eslint-disable-next-line react/forbid-prop-types\n  storeState: PropTypes.object,\n};\n\n// EXPORT\n\nexport default ServerHTML;\n\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/reactApplication/ServerHTML.js","/**\n * This file resolves the entry assets available from our client bundle.\n */\n\nimport fs from 'fs';\nimport { resolve as pathResolve } from 'path';\nimport appRootDir from 'app-root-dir';\nimport config from '../../../config';\n\nlet resultCache;\n\n/**\n * Retrieves the js/css for the named chunks that belong to our client bundle.\n *\n * Note: the order of the chunk names is important. The same ordering will be\n * used when rendering the scripts.\n *\n * This is useful to us for a couple of reasons:\n *   - It allows us to target the assets for a specific chunk, thereby only\n *     loading the assets we know we will need for a specific request.\n *   - The assets are hashed, and therefore they can't be \"manually\" added\n *     to the render logic.  Having this method allows us to easily fetch\n *     the respective assets simply by using a chunk name. :)\n */\nexport default function getClientBundleEntryAssets() {\n  // Return the assets json cache if it exists.\n  // In development mode we always read the assets json file from disk to avoid\n  // any cases where an older version gets cached.\n  if (process.env.BUILD_FLAG_IS_DEV === 'false' && resultCache) {\n    return resultCache;\n  }\n\n  const assetsFilePath = pathResolve(\n    appRootDir.get(),\n    config('bundles.client.outputPath'),\n    `./${config('bundleAssetsFileName')}`,\n  );\n\n  if (!fs.existsSync(assetsFilePath)) {\n    throw new Error(\n      `We could not find the \"${assetsFilePath}\" file, which contains a list of the assets of the client bundle.  Please ensure that the client bundle has been built.`,\n    );\n  }\n\n  const readAssetsJSONFile = () => JSON.parse(fs.readFileSync(assetsFilePath, 'utf8'));\n  const assetsJSONCache = readAssetsJSONFile();\n  if (typeof assetsJSONCache.index === 'undefined') {\n    throw new Error('No asset data found for expected \"index\" entry chunk of client bundle.');\n  }\n  resultCache = assetsJSONCache.index;\n  return resultCache;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/reactApplication/getClientBundleEntryAssets.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport serialize from 'serialize-javascript';\nimport filterWithRules from '../../shared/utils/objects/filterWithRules';\nimport values from '../values';\n\n// Filter the config down to the properties that are allowed to be included\n// in the HTML response.\nconst clientConfig = filterWithRules(\n  // These are the rules used to filter the config.\n  values.clientConfigFilter,\n  // The config values to filter.\n  values,\n);\n\nconst serializedClientConfig = serialize(clientConfig);\n\n/**\n * A react component that generates a script tag that binds the allowed\n * values to the window so that config values can be read within the\n * browser.\n *\n * They get bound to window.__CLIENT_CONFIG__\n */\nfunction ClientConfig({ nonce }) {\n  return (\n    <script\n      type=\"text/javascript\"\n      nonce={nonce}\n      // eslint-disable-next-line react/no-danger\n      dangerouslySetInnerHTML={{\n        __html: `window.__CLIENT_CONFIG__=${serializedClientConfig}`,\n      }}\n    />\n  );\n}\n\nClientConfig.propTypes = {\n  nonce: PropTypes.string.isRequired,\n};\n\nexport default ClientConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./config/components/ClientConfig.js","function filterWithRulesLoop(rules, obj, basePropPath = '') {\n  return Object.keys(rules).reduce(\n    (acc, key) => {\n      const propPath = basePropPath !== '' ? `${basePropPath}.${key}` : key;\n\n      if (typeof rules[key] === 'object') {\n        if (typeof obj[key] !== 'object') {\n          throw new Error(`Expected prop at path \"${propPath}\" to be an object`);\n        }\n        acc[key] = filterWithRulesLoop(rules[key], obj[key], propPath); // eslint-disable-line no-param-reassign,max-len\n      } else if (rules[key]) {\n        if (typeof obj[key] === 'undefined') {\n          throw new Error(\n            `Filter set an \"allow\" on path \"${propPath}\", however, this path was not found on the source object.`,\n          );\n        }\n        acc[key] = obj[key]; // eslint-disable-line no-param-reassign\n      }\n      return acc;\n    },\n    {},\n  );\n}\n\n/**\n * Applies a rules object to filter a given object's structure.\n *\n * The rules object should match the shape of the source object and should\n * have a truthy/falsey value indicating if a property should be included/\n * excluded.  If the filters do not contain a property that exists on the\n * source object then the respective property will be excluded.\n *\n * @param  {Object} rules : The filter rules.\n * @param  {Object} obj   : The object to filter.\n *\n * @return {Object}\n *   The filtered object.\n *\n * @example\n *   filter(\n *     // rules\n *     {\n *       foo: { bar: true },\n *       poop: true\n *     },\n *     // source\n *     {\n *       foo: { bar: 'bar', qux: 'qux' },\n *       bob: 'bob',\n *       poop: { plop: 'splash' }\n *     },\n *   )\n */\nexport default function filterWithRules(rules, obj) {\n  return filterWithRulesLoop(rules, obj);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./shared/utils/objects/filterWithRules.js","/* eslint-disable react/no-danger */\n/* eslint-disable jsx-a11y/html-has-lang */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The is the HTML shell for our React Application.\n */\nfunction HTML(props) {\n  const { htmlAttributes, headerElements, bodyElements, appBodyString } = props;\n\n  return (\n    <html {...htmlAttributes}>\n      <head>\n        {headerElements}\n      </head>\n      <body>\n        <div id=\"app\" dangerouslySetInnerHTML={{ __html: appBodyString }} />\n        {bodyElements}\n      </body>\n    </html>\n  );\n}\n\nHTML.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  htmlAttributes: PropTypes.object,\n  headerElements: PropTypes.node,\n  bodyElements: PropTypes.node,\n  appBodyString: PropTypes.string,\n};\n\nHTML.defaultProps = {\n  htmlAttributes: null,\n  headerElements: null,\n  bodyElements: null,\n  appBodyString: '',\n};\n\n// EXPORT\n\nexport default HTML;\n\n\n// WEBPACK FOOTER //\n// ./shared/components/HTML/index.js","import uuid from 'uuid';\nimport hpp from 'hpp';\nimport helmet from 'helmet';\nimport config from '../../config';\n\nconst cspConfig = {\n  directives: {\n    childSrc: [\"'self'\"],\n    // Note: Setting this to stricter than * breaks the service worker. :(\n    // I can't figure out how to get around this, so if you know of a safer\n    // implementation that is kinder to service workers please let me know.\n    connectSrc: ['*'], // [\"'self'\", 'ws:'],\n    defaultSrc: [\"'self'\"],\n    imgSrc: [\n      \" * 'self'\",\n      // If you use Base64 encoded images (i.e. inlined images), then you will\n      // need the following:\n      // 'data:',\n    ],\n    fontSrc: [\"'self'\", 'data:'],\n    objectSrc: [\"'self'\"],\n    mediaSrc: [\"'self'\"],\n    manifestSrc: [\"'self'\"],\n    scriptSrc: [\n      // Allow scripts hosted from our application.\n      \"'self'\",\n      // Note: We will execution of any inline scripts that have the following\n      // nonce identifier attached to them.\n      // This is useful for guarding your application whilst allowing an inline\n      // script to do data store rehydration (redux/mobx/apollo) for example.\n      // @see https://helmetjs.github.io/docs/csp/\n      (req, res) => `'nonce-${res.locals.nonce}'`,\n      // This is a know workaround for browsers that don't support nonces.\n      // It will be ignored by browsers that do support nonces as they will\n      // recognise that we have also provided a nonce configuration and\n      // use the stricter rule.\n      \"'unsafe-inline'\",\n    ],\n    styleSrc: [\n      \"'self'\",\n      // Webpack generates JS that loads our CSS, so this is needed:\n      \"'unsafe-inline'\",\n      'blob:',\n    ],\n  },\n};\n\n// Add any additional CSP from the static config.\nconst cspExtensions = config('cspExtensions');\nObject.keys(cspExtensions).forEach((key) => {\n  if (cspConfig.directives[key]) {\n    cspConfig.directives[key] = cspConfig.directives[key].concat(cspExtensions[key]);\n  } else {\n    cspConfig.directives[key] = cspExtensions[key];\n  }\n});\n\nif (process.env.BUILD_FLAG_IS_DEV === 'true') {\n  // When in development mode we need to add our secondary express server that\n  // is used to host our client bundle to our csp config.\n  Object.keys(cspConfig.directives).forEach((directive) => {\n    cspConfig.directives[directive].push(`${config('host')}:${config('clientDevServerPort')}`);\n  });\n}\n\n// Attach a unique \"nonce\" to every response.  This allows use to declare\n// inline scripts as being safe for execution against our content security policy.\n// @see https://helmetjs.github.io/docs/csp/\nfunction nonceMiddleware(req, res, next) {\n  // eslint-disable-next-line no-param-reassign\n  res.locals.nonce = uuid.v4();\n  next();\n}\n\nconst securityMiddleware = [\n  nonceMiddleware,\n\n  // Prevent HTTP Parameter pollution.\n  // @see http://bit.ly/2f8q7Td\n  hpp(),\n\n  // The xssFilter middleware sets the X-XSS-Protection header to prevent\n  // reflected XSS attacks.\n  // @see https://helmetjs.github.io/docs/xss-filter/\n  helmet.xssFilter(),\n\n  // Frameguard mitigates clickjacking attacks by setting the X-Frame-Options header.\n  // @see https://helmetjs.github.io/docs/frameguard/\n  helmet.frameguard('deny'),\n\n  // Sets the X-Download-Options to prevent Internet Explorer from executing\n  // downloads in your sites context.\n  // @see https://helmetjs.github.io/docs/ienoopen/\n  helmet.ieNoOpen(),\n\n  // Dont Sniff Mimetype middleware, noSniff, helps prevent browsers from trying\n  // to guess (sniff) the MIME type, which can have security implications. It\n  // does this by setting the X-Content-Type-Options header to nosniff.\n  // @see https://helmetjs.github.io/docs/dont-sniff-mimetype/\n  helmet.noSniff(),\n\n  // Content Security Policy\n  //\n  // If you are unfamiliar with CSPs then I highly recommend that you do some\n  // reading on the subject:\n  //  - https://content-security-policy.com/\n  //  - https://developers.google.com/web/fundamentals/security/csp/\n  //  - https://developer.mozilla.org/en/docs/Web/Security/CSP\n  //  - https://helmetjs.github.io/docs/csp/\n  //\n  // If you are relying on scripts/styles/assets from other servers (internal\n  // or external to your company) then you will need to explicitly configure\n  // the CSP below to allow for this.  For example you can see I have had to\n  // add the polyfill.io CDN in order to allow us to use the polyfill script.\n  // It can be a pain to manage these, but it's a really great habit to get\n  // in to.\n  //\n  // You may find CSPs annoying at first, but it is a great habit to build.\n  // The CSP configuration is an optional item for helmet, however you should\n  // not remove it without making a serious consideration that you do not\n  // require the added security.\n  helmet.contentSecurityPolicy(cspConfig),\n];\n\nexport default securityMiddleware;\n\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/security.js","module.exports = require(\"uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"hpp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"hpp\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 44\n// module chunks = 0","import express from 'express';\nimport { resolve as pathResolve } from 'path';\nimport appRootDir from 'app-root-dir';\nimport config from '../../config';\n\n/**\n * Middleware to server our client bundle.\n */\nexport default express.static(pathResolve(appRootDir.get(), config('bundles.client.outputPath')), {\n  maxAge: config('browserCacheMaxAge'),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/clientBundle.js","/* eslint-disable no-unused-vars */\n\nimport { resolve as pathResolve } from 'path';\nimport appRootDir from 'app-root-dir';\nimport config from '../../config';\n\n// Middleware to serve our service worker.\nfunction serviceWorkerMiddleware(req, res, next) {\n  res.sendFile(\n    pathResolve(\n      appRootDir.get(),\n      config('bundles.client.outputPath'),\n      config('serviceWorker.fileName'),\n    ),\n  );\n}\n\nexport default serviceWorkerMiddleware;\n\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/serviceWorker.js","/* eslint-disable no-unused-vars */\n\nimport { readFile } from 'fs';\nimport { resolve as pathResolve } from 'path';\nimport appRootDir from 'app-root-dir';\n\nimport config from '../../config';\n\n/**\n * Middleware to intercept calls to our offline page to ensure that\n * inline scripts get a nonce value attached to them.\n */\nexport default function offlinePageMiddleware(req, res, next) {\n  // We should have had a nonce provided to us.  See the server/index.js for\n  // more information on what this is.\n  if (typeof res.locals.nonce !== 'string') {\n    throw new Error('A \"nonce\" value has not been attached to the response');\n  }\n  const nonce = res.locals.nonce;\n\n  readFile(\n    // Path to the offline page.\n    pathResolve(\n      appRootDir.get(),\n      config('bundles.client.outputPath'),\n      config('serviceWorker.offlinePageFileName'),\n    ),\n    // Charset for read\n    'utf-8',\n    // Read handler\n    (err, data) => {\n      if (err) {\n        res.status(500).send('Error returning offline page.');\n        return;\n      }\n      // We replace the placeholder with the actual nonce.\n      const offlinePageWithNonce = data.replace('OFFLINE_PAGE_NONCE_PLACEHOLDER', nonce);\n      // Send back the page as the response\n      res.send(offlinePageWithNonce);\n    },\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/offlinePage.js","/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n\nconst errorHandlersMiddleware = [\n  /**\n   * 404 errors middleware.\n   *\n   * NOTE: the react application middleware hands 404 paths, but it is good to\n   * have this backup for paths not handled by the react middleware. For\n   * example you may bind a /api path to express.\n   */\n  function notFoundMiddlware(req, res, next) {\n    res.status(404).send('Sorry, that resource was not found.');\n  },\n\n  /**\n   * 500 errors middleware.\n   *\n   * NOTE: You must provide specify all 4 parameters on this callback function\n   * even if they aren't used, otherwise it won't be used.\n   */\n  function unexpectedErrorMiddleware(err, req, res, next) {\n    if (err) {\n      console.log(err);\n      console.log(err.stack);\n    }\n    res.status(500).send('Sorry, an unexpected error occurred.');\n  },\n];\n\nexport default errorHandlersMiddleware;\n\n\n\n// WEBPACK FOOTER //\n// ./server/middleware/errorHandlers.js"],"sourceRoot":""}